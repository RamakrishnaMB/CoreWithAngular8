<h1>Edit Customer</h1>

<hr />
<div class="row">
  <div class="col-md-4">
    <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
      <input type="hidden" formControlName="cid" />
      <app-customertemplate formControlName="cmnCustomerFields"></app-customertemplate>

      <div *ngIf="editForm.value.profilePicsrc" class="form-group">
        <label class="control-label">Profile Picture</label> :
        <img [src]="GetProfileImgPath(editForm.value.profilePicsrc)" alt="No Picture Found" style="width:60px; height:60px;">

        <a href="#" (click)="changeProfilepic()">
          <span class="glyphicon glyphicon-user"></span>
        </a>
        <a href="#" (click)="deleteProfilepic(editForm.value.profilePicsrc)" >
          <span class="glyphicon glyphicon-remove-sign"></span>
        </a>
      </div>
      <div *ngIf="isChangeprofilepic">
        <app-upload (onUploadFinished)="uploadFinished($event)"></app-upload>
      </div>
      <div class="form-group">
        <div class="text-center">
          <button class="btn btn-primary mr-1" [disabled]="!editForm.valid">Edit Customer</button>
          <button class="btn btn-secondary" type="reset" (click)="onReset()">Cancel</button>
        </div>
      </div>

    </form>
  </div>
</div>

<p>
  Form is {{editForm.valid ? 'Valid' : 'Invalid'}}
</p>
<pre>
{{editForm.value | json}}
</pre>
